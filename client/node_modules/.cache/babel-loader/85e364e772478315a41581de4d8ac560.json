{"ast":null,"code":"var _jsxFileName = \"/Users/hind/Desktop/final/client/src/view/plan/incident.jsx\";\nimport React, { Component } from 'react';\nimport { Radio, Button } from 'antd';\nimport Collapsible from 'react-collapsible';\nimport { SERVER_URL } from '../../config';\nimport { connect } from \"react-redux\";\nimport { List, ListItem, ListItemContent, FABButton, Icon } from 'react-mdl';\nimport { submitPlan } from './submit';\nimport { withRouter } from 'react-router-dom';\n\nclass Incident extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      fetch(`${SERVER_URL}user/`).then(res => res.json()).then(json => {\n        this.setState({\n          users: json\n        });\n      });\n    };\n\n    this.onChangeDegree = e => {\n      this.setState({\n        degree: e.target.value\n      });\n    };\n\n    this.onChangeProbability = e => {\n      this.setState({\n        probability: e.target.value\n      });\n    };\n\n    this.state = {\n      probability: '',\n      degree: '',\n      name: this.props.incident,\n      users: [],\n      responsibles: []\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newIncident = {\n      admin: this.state.admin,\n      name: this.state.name,\n      probability: this.state.probability,\n      degree: this.state.degree,\n      responsibles: this.state.responsibles\n    };\n    submitPlan(newIncident).then(res => {\n      this.props.history.push(`/dashboard`);\n    });\n  }\n\n  render() {\n    const {\n      users\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, this.state.incident), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"Degree of impact : \"), /*#__PURE__*/React.createElement(Radio.Group, {\n      onChange: this.onChangeDegree,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Radio, {\n      value: \"High\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, \"High\"), /*#__PURE__*/React.createElement(Radio, {\n      value: \"Medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"Medium\"), /*#__PURE__*/React.createElement(Radio, {\n      value: \"Low\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, \"Low\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, \"Probability of ocurre :\"), /*#__PURE__*/React.createElement(Radio.Group, {\n      onChange: this.onChangeProbability,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Radio, {\n      value: \"High\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"High\"), /*#__PURE__*/React.createElement(Radio, {\n      value: \"Medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, \"Medium\"), /*#__PURE__*/React.createElement(Radio, {\n      value: \"Low\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, \"Low\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Collapsible, {\n      trigger: /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }\n      }, \" next\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, \"Choose the responsible staff\"), /*#__PURE__*/React.createElement(List, {\n      style: {\n        width: '650px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, users.map(user => /*#__PURE__*/React.createElement(ListItem, {\n      threeLine: true,\n      key: user._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ListItemContent, {\n      subtitle: user.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }\n    }, user.name), /*#__PURE__*/React.createElement(FABButton, {\n      mini: true,\n      onClick: () => {\n        this.setState({\n          responsibles: this.state.responsibles + user._id\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Icon, {\n      name: \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 102\n      }\n    }))))), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 1\n      }\n    }, \" Submit\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(Incident));","map":{"version":3,"sources":["/Users/hind/Desktop/final/client/src/view/plan/incident.jsx"],"names":["React","Component","Radio","Button","Collapsible","SERVER_URL","connect","List","ListItem","ListItemContent","FABButton","Icon","submitPlan","withRouter","Incident","constructor","props","componentDidMount","fetch","then","res","json","setState","users","onChangeDegree","e","degree","target","value","onChangeProbability","probability","state","name","incident","responsibles","onSubmit","bind","preventDefault","newIncident","admin","history","push","render","width","map","user","_id","email","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Radio,Button } from 'antd';\nimport Collapsible from 'react-collapsible';\nimport { SERVER_URL } from '../../config';\nimport {connect} from \"react-redux\";\nimport{List,ListItem,ListItemContent,FABButton,Icon}from 'react-mdl'\nimport {submitPlan} from './submit'\nimport {  withRouter } from 'react-router-dom'\n\n\nclass Incident extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n          probability:'',\n          degree:'',\n          name:this.props.incident,\n          users: [],\n          responsibles:[],\n           };\n        this.onSubmit = this.onSubmit.bind(this) }\n      \n\n      componentDidMount = () => {\n        fetch(`${SERVER_URL}user/`)\n        .then(res=>res.json())\n        .then(json=>{\n          this.setState({\n            users:json,})\n        })}\n      \n\n      onChangeDegree=(e)=>{\n        this.setState({degree:e.target.value}) }\n\n      onChangeProbability=(e)=>{\n        this.setState({probability:e.target.value})  }\n\n\n      onSubmit(e) {\n        e.preventDefault()\n    \n        const newIncident = {\n          admin:this.state.admin,\n          name: this.state.name,\n          probability: this.state.probability,\n          degree: this.state.degree,\n          responsibles: this.state.responsibles\n        }\n        submitPlan(newIncident ).then(res => {\n          this.props.history.push(`/dashboard`) })\n      }\n      \n     \n    render() {\n\n      const{users}=this.state;\n\n        return (\n        <div>\n            <h1>{this.state.incident}</h1>\n            <div>Degree of impact : </div>\n              <Radio.Group onChange={this.onChangeDegree}>\n              <Radio value=\"High\">High</Radio>\n              <Radio value=\"Medium\">Medium</Radio>\n              <Radio value=\"Low\">Low</Radio>\n              </Radio.Group>\n              <div>Probability of ocurre :</div>\n              <Radio.Group onChange={this.onChangeProbability}>\n              <Radio value=\"High\">High</Radio>\n              <Radio value=\"Medium\">Medium</Radio>\n              <Radio value=\"Low\">Low</Radio>\n              </Radio.Group>\n              <br/>\n              <Collapsible trigger={<Button  type=\"primary\"> next</Button>}>\n              <div>Choose the responsible staff</div>\n                <List style={{width: '650px'}}>\n          {users.map(user=>\n          <ListItem threeLine key={user._id}>\n    <ListItemContent  subtitle={user.email}>{user.name}</ListItemContent>\n    <FABButton  mini onClick={()=>{this.setState({responsibles:this.state.responsibles+user._id})}}> <Icon name=\"add\" /></FABButton>\n    </ListItem>\n\n          )}\n</List>\n\n<Button  type=\"primary\" onClick={this.onSubmit}> Submit</Button>\n\n </Collapsible>\n\n        </div>\n        );\n      } }\n\n\n    const mapStateToProps = (state) => {\n      return {\n        user: state.user } }\n\n\n    \n    export default connect(mapStateToProps) (withRouter(Incident)) ;"]},"metadata":{},"sourceType":"module"}